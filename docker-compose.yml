name: ft_transcendence

include:
  - ./backend/compose-backend.yml
  - ./elk/compose-elk.yml

services:
  frontend:
    container_name: frontend
    networks:
      - backend
    depends_on:
      - gateway
    build:
      context: ./frontend
    ports:
      - 5173:80
    restart: unless-stopped


volumes:
  certs:
    driver: local
  esdata01:
    driver: local
  kibanadata:
    driver: local
  logstashdata:
    driver: local
  logstash-keystore:
  filebeatdata:
    driver: local
  app_logs:
    driver: local

networks:
  #frontend:
    #driver: bridge
  backend:
    driver: bridge
  elk:
    driver: bridge
